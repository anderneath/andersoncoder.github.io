(this["webpackJsonpreact-quill-spell-checker-example"]=this["webpackJsonpreact-quill-spell-checker-example"]||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(15),a=n.n(i),s=(n(38),n(3)),u=n(16),c=n.n(u),l=(n(112),n(30));Object(l.a)(u.Quill);var f={spellChecker:{cooldownTime:"3000",showLoadingIndicator:!0,api:{url:"https://languagetool.org/api/v2/check",body:function(e){var t={text:e,language:"auto",disabledCategories:"FORMAL_SPEECH"};return Object.keys(t).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))})).join("&")}}}},p=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1];return o.a.createElement(c.a,{defaultValue:n,onChange:i,modules:f})};a.a.render(o.a.createElement(p,null),document.getElementById("root"))},30:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ct}));var r=n(10),o=n(3),i=n(17),a=n(18),s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},n.exports),n.exports}function v(e,t,n,r){if(e===t)return e?[[0,e]]:[];if(null!=n){var o=function(e,t,n){var r="number"===typeof n?{index:n,length:0}:n.oldRange,o="number"===typeof n?null:n.newRange,i=e.length,a=t.length;if(0===r.length&&(null===o||0===o.length)){var s=r.index,u=e.slice(0,s),c=e.slice(s),l=o?o.index:null,f=s+a-i;if((null===l||l===f)&&!(f<0||f>a)){var p=t.slice(0,f);if((m=t.slice(f))===c){var h=Math.min(s,f),d=u.slice(0,h),g=p.slice(0,h);if(d===g){var v=u.slice(h),b=p.slice(h);return k(d,v,b,c)}}}if(null===l||l===s){var y=s,m=(p=t.slice(0,y),t.slice(y));if(p===u){var w=Math.min(i-y,a-y),x=c.slice(c.length-w),_=m.slice(m.length-w);if(x===_){v=c.slice(0,c.length-w),b=m.slice(0,m.length-w);return k(u,v,b,x)}}}}if(r.length>0&&o&&0===o.length){d=e.slice(0,r.index),x=e.slice(r.index+r.length),h=d.length,w=x.length;if(!(a<h+w)){g=t.slice(0,h),_=t.slice(a-w);if(d===g&&x===_){v=e.slice(h,i-w),b=t.slice(h,a-w);return k(d,v,b,x)}}}return null}(e,t,n);if(o)return o}var i=y(e,t),a=e.substring(0,i);i=m(e=e.substring(i),t=t.substring(i));var s=e.substring(e.length-i),u=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[-1,e]];var r=e.length>t.length?e:t,o=e.length>t.length?t:e,i=r.indexOf(o);if(-1!==i)return n=[[1,r.substring(0,i)],[0,o],[1,r.substring(i+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=-1),n;if(1===o.length)return[[-1,e],[1,t]];var a=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,i,a,s=e.substring(n,n+Math.floor(e.length/4)),u=-1,c="";-1!==(u=t.indexOf(s,u+1));){var l=y(e.substring(n),t.substring(u)),f=m(e.substring(0,n),t.substring(0,u));c.length<f+l&&(c=t.substring(u-f,u)+t.substring(u,u+l),r=e.substring(0,n-f),o=e.substring(n+l),i=t.substring(0,u-f),a=t.substring(u+l))}return 2*c.length>=e.length?[r,o,i,a,c]:null}var i,a,s,u,c,l=o(n,r,Math.ceil(n.length/4)),f=o(n,r,Math.ceil(n.length/2));if(!l&&!f)return null;i=f?l&&l[4].length>f[4].length?l:f:l;e.length>t.length?(a=i[0],s=i[1],u=i[2],c=i[3]):(u=i[0],c=i[1],a=i[2],s=i[3]);var p=i[4];return[a,s,u,c,p]}(e,t);if(a){var s=a[0],u=a[1],c=a[2],l=a[3],f=a[4],p=v(s,c),h=v(u,l);return p.concat([[0,f]],h)}return function(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),i=o,a=2*o,s=new Array(a),u=new Array(a),c=0;c<a;c++)s[c]=-1,u[c]=-1;s[i+1]=0,u[i+1]=0;for(var l=n-r,f=l%2!==0,p=0,h=0,d=0,g=0,v=0;v<o;v++){for(var y=-v+p;y<=v-h;y+=2){for(var m=i+y,w=(O=y===-v||y!==v&&s[m-1]<s[m+1]?s[m+1]:s[m-1]+1)-y;O<n&&w<r&&e.charAt(O)===t.charAt(w);)O++,w++;if(s[m]=O,O>n)h+=2;else if(w>r)p+=2;else if(f){if((j=i+l-y)>=0&&j<a&&-1!==u[j]){var x=n-u[j];if(O>=x)return b(e,t,O,w)}}}for(var _=-v+d;_<=v-g;_+=2){for(var j=i+_,k=(x=_===-v||_!==v&&u[j-1]<u[j+1]?u[j+1]:u[j-1]+1)-_;x<n&&k<r&&e.charAt(n-x-1)===t.charAt(r-k-1);)x++,k++;if(u[j]=x,x>n)g+=2;else if(k>r)d+=2;else if(!f){if((m=i+l-_)>=0&&m<a&&-1!==s[m]){var O=s[m];w=i+O-m;if(O>=(x=n-x))return b(e,t,O,w)}}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-i),t=t.substring(0,t.length-i));return a&&u.unshift([0,a]),s&&u.push([0,s]),function e(t,n){t.push([0,""]);var r,o=0,i=0,a=0,s="",u="";for(;o<t.length;)if(o<t.length-1&&!t[o][1])t.splice(o,1);else switch(t[o][0]){case 1:a++,u+=t[o][1],o++;break;case-1:i++,s+=t[o][1],o++;break;case 0:var c=o-a-i-1;if(n){if(c>=0&&j(t[c][1])){var l=t[c][1].slice(-1);if(t[c][1]=t[c][1].slice(0,-1),s=l+s,u=l+u,!t[c][1]){t.splice(c,1),o--;var f=c-1;t[f]&&1===t[f][0]&&(a++,u=t[f][1]+u,f--),t[f]&&-1===t[f][0]&&(i++,s=t[f][1]+s,f--),c=f}}if(_(t[o][1])){l=t[o][1].charAt(0);t[o][1]=t[o][1].slice(1),s+=l,u+=l}}if(o<t.length-1&&!t[o][1]){t.splice(o,1);break}if(s.length>0||u.length>0){s.length>0&&u.length>0&&(0!==(r=y(u,s))&&(c>=0?t[c][1]+=u.substring(0,r):(t.splice(0,0,[0,u.substring(0,r)]),o++),u=u.substring(r),s=s.substring(r)),0!==(r=m(u,s))&&(t[o][1]=u.substring(u.length-r)+t[o][1],u=u.substring(0,u.length-r),s=s.substring(0,s.length-r)));var p=a+i;0===s.length&&0===u.length?(t.splice(o-p,p),o-=p):0===s.length?(t.splice(o-p,p,[1,u]),o=o-p+1):0===u.length?(t.splice(o-p,p,[-1,s]),o=o-p+1):(t.splice(o-p,p,[-1,s],[1,u]),o=o-p+2)}0!==o&&0===t[o-1][0]?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,a=0,i=0,s="",u=""}""===t[t.length-1][1]&&t.pop();var h=!1;o=1;for(;o<t.length-1;)0===t[o-1][0]&&0===t[o+1][0]&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)===t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),h=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),h=!0)),o++;h&&e(t,n)}(u,r),u}function b(e,t,n,r){var o=e.substring(0,n),i=t.substring(0,r),a=e.substring(n),s=t.substring(r),u=v(o,i),c=v(a,s);return u.concat(c)}function y(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return w(e.charCodeAt(o-1))&&o--,o}function m(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return x(e.charCodeAt(e.length-o))&&o--,o}function w(e){return e>=55296&&e<=56319}function x(e){return e>=56320&&e<=57343}function _(e){return x(e.charCodeAt(0))}function j(e){return w(e.charCodeAt(e.length-1))}function k(e,t,n,r){return j(e)||_(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[-1,t],[1,n],[0,r]])}function O(e,t,n){return v(e,t,n,!0)}O.INSERT=1,O.DELETE=-1,O.EQUAL=0;var A=O,S=g((function(e,t){var n="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",i="[object Map]",a="[object Set]",s=/\w*$/,u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l={};l[n]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object DataView]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l[i]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l[a]=l["[object String]"]=l["[object Symbol]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l[r]=l["[object WeakMap]"]=!1;var f="object"==typeof h&&h&&h.Object===Object&&h,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")(),g=t&&!t.nodeType&&t,v=g&&e&&!e.nodeType&&e,b=v&&v.exports===g;function y(e,t){return e.set(t[0],t[1]),e}function m(e,t){return e.add(t),e}function w(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function x(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function _(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function j(e,t){return function(n){return e(t(n))}}function k(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var O=Array.prototype,A=Function.prototype,S=Object.prototype,E=d["__core-js_shared__"],C=function(){var e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),L=A.toString,P=S.hasOwnProperty,M=S.toString,T=RegExp("^"+L.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=b?d.Buffer:void 0,D=d.Symbol,N=d.Uint8Array,B=j(Object.getPrototypeOf,Object),R=Object.create,I=S.propertyIsEnumerable,F=O.splice,z=Object.getOwnPropertySymbols,V=q?q.isBuffer:void 0,U=j(Object.keys,Object),W=ge(d,"DataView"),H=ge(d,"Map"),$=ge(d,"Promise"),G=ge(d,"Set"),Q=ge(d,"WeakMap"),J=ge(Object,"create"),X=we(W),Y=we(H),K=we($),Z=we(G),ee=we(Q),te=D?D.prototype:void 0,ne=te?te.valueOf:void 0;function re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){this.__data__=new oe(e)}function se(e,t){var r=_e(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&je(e)}(e)&&P.call(e,"callee")&&(!I.call(e,"callee")||M.call(e)==n)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=r.length,i=!!o;for(var a in e)!t&&!P.call(e,a)||i&&("length"==a||ye(a,o))||r.push(a);return r}function ue(e,t,n){var r=e[t];P.call(e,t)&&xe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ce(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function le(e,t,u,c,f,p,h){var d;if(c&&(d=p?c(e,f,p,h):c(e)),void 0!==d)return d;if(!Ae(e))return e;var g=_e(e);if(g){if(d=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&P.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,d)}else{var v=be(e),b=v==r||v==o;if(ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if("[object Object]"==v||v==n||b&&!p){if(x(e))return p?e:{};if(d=function(e){return"function"!=typeof e.constructor||me(e)?{}:(t=B(e),Ae(t)?R(t):{});var t}(b?{}:e),!t)return function(e,t){return he(e,ve(e),t)}(e,function(e,t){return e&&he(t,Se(t),e)}(d,e))}else{if(!l[v])return p?e:{};d=function(e,t,n,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return pe(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case i:return function(e,t,n){return w(t?n(_(e),!0):_(e),y,new e.constructor)}(e,r,n);case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,s.exec(e));return t.lastIndex=e.lastIndex,t}(e);case a:return function(e,t,n){return w(t?n(k(e),!0):k(e),m,new e.constructor)}(e,r,n);case"[object Symbol]":return u=e,ne?Object(ne.call(u)):{}}var u}(e,v,le,t)}}h||(h=new ae);var j=h.get(e);if(j)return j;if(h.set(e,d),!g)var O=u?function(e){return function(e,t,n){var r=t(e);return _e(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Se,ve)}(e):Se(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(O||e,(function(n,r){O&&(n=e[r=n]),ue(d,r,le(n,t,u,c,r,e,h))})),d}function fe(e){return!(!Ae(e)||(t=e,C&&C in t))&&(Oe(e)||x(e)?T:u).test(we(e));var t}function pe(e){var t=new e.constructor(e.byteLength);return new N(t).set(new N(e)),t}function he(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;ue(n,a,void 0===s?e[a]:s)}return n}function de(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ge(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}re.prototype.clear=function(){this.__data__=J?J(null):{}},re.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},re.prototype.get=function(e){var t=this.__data__;if(J){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return P.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return J?void 0!==t[e]:P.call(t,e)},re.prototype.set=function(e,t){return this.__data__[e]=J&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():F.call(t,n,1),!0)},oe.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return ce(this.__data__,e)>-1},oe.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ie.prototype.clear=function(){this.__data__={hash:new re,map:new(H||oe),string:new re}},ie.prototype.delete=function(e){return de(this,e).delete(e)},ie.prototype.get=function(e){return de(this,e).get(e)},ie.prototype.has=function(e){return de(this,e).has(e)},ie.prototype.set=function(e,t){return de(this,e).set(e,t),this},ae.prototype.clear=function(){this.__data__=new oe},ae.prototype.delete=function(e){return this.__data__.delete(e)},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this;n=this.__data__=new ie(r)}return n.set(e,t),this};var ve=z?j(z,Object):function(){return[]},be=function(e){return M.call(e)};function ye(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function we(e){if(null!=e){try{return L.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function xe(e,t){return e===t||e!==e&&t!==t}(W&&"[object DataView]"!=be(new W(new ArrayBuffer(1)))||H&&be(new H)!=i||$&&"[object Promise]"!=be($.resolve())||G&&be(new G)!=a||Q&&"[object WeakMap]"!=be(new Q))&&(be=function(e){var t=M.call(e),n="[object Object]"==t?e.constructor:void 0,r=n?we(n):void 0;if(r)switch(r){case X:return"[object DataView]";case Y:return i;case K:return"[object Promise]";case Z:return a;case ee:return"[object WeakMap]"}return t});var _e=Array.isArray;function je(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Oe(e)}var ke=V||function(){return!1};function Oe(e){var t=Ae(e)?M.call(e):"";return t==r||t==o}function Ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Se(e){return je(e)?se(e):function(e){if(!me(e))return U(e);var t=[];for(var n in Object(e))P.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return le(e,!0,!0)}})),E=g((function(e,t){var n="[object Arguments]",r="[object Map]",o="[object Object]",i="[object Set]",a=/^\[object .+?Constructor\]$/,s=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[n]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[r]=u["[object Number]"]=u[o]=u["[object RegExp]"]=u[i]=u["[object String]"]=u["[object WeakMap]"]=!1;var c="object"==typeof h&&h&&h.Object===Object&&h,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),p=t&&!t.nodeType&&t,d=p&&e&&!e.nodeType&&e,g=d&&d.exports===p,v=g&&c.process,b=function(){try{return v&&v.binding&&v.binding("util")}catch(e){}}(),y=b&&b.isTypedArray;function m(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function x(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var _=Array.prototype,j=Function.prototype,k=Object.prototype,O=f["__core-js_shared__"],A=j.toString,S=k.hasOwnProperty,E=function(){var e=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),C=k.toString,L=RegExp("^"+A.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=g?f.Buffer:void 0,M=f.Symbol,T=f.Uint8Array,q=k.propertyIsEnumerable,D=_.splice,N=M?M.toStringTag:void 0,B=Object.getOwnPropertySymbols,R=P?P.isBuffer:void 0,I=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),F=de(f,"DataView"),z=de(f,"Map"),V=de(f,"Promise"),U=de(f,"Set"),W=de(f,"WeakMap"),H=de(Object,"create"),$=ye(F),G=ye(z),Q=ye(V),J=ye(U),X=ye(W),Y=M?M.prototype:void 0,K=Y?Y.valueOf:void 0;function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new te;++t<n;)this.add(e[t])}function re(e){var t=this.__data__=new ee(e);this.size=t.size}function oe(e,t){var n=xe(e),r=!n&&we(e),o=!n&&!r&&_e(e),i=!n&&!r&&!o&&Ee(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!S.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,u))||s.push(c);return s}function ie(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function ae(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":N&&N in Object(e)?function(e){var t=S.call(e,N),n=e[N];try{e[N]=void 0;var r=!0}catch(i){}var o=C.call(e);r&&(t?e[N]=n:delete e[N]);return o}(e):function(e){return C.call(e)}(e)}function se(e){return Ae(e)&&ae(e)==n}function ue(e,t,a,s,u){return e===t||(null==e||null==t||!Ae(e)&&!Ae(t)?e!==e&&t!==t:function(e,t,a,s,u,c){var l=xe(e),f=xe(t),p=l?"[object Array]":ve(e),h=f?"[object Array]":ve(t),d=(p=p==n?o:p)==o,g=(h=h==n?o:h)==o,v=p==h;if(v&&_e(e)){if(!_e(t))return!1;l=!0,d=!1}if(v&&!d)return c||(c=new re),l||Ee(e)?fe(e,t,a,s,u,c):function(e,t,n,o,a,s,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new T(e),new T(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return me(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case r:var c=w;case i:var l=1&o;if(c||(c=x),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;o|=2,u.set(e,t);var p=fe(c(e),c(t),o,a,s,u);return u.delete(e),p;case"[object Symbol]":if(K)return K.call(e)==K.call(t)}return!1}(e,t,p,a,s,u,c);if(!(1&a)){var b=d&&S.call(e,"__wrapped__"),y=g&&S.call(t,"__wrapped__");if(b||y){var m=b?e.value():e,_=y?t.value():t;return c||(c=new re),u(m,_,a,s,c)}}if(!v)return!1;return c||(c=new re),function(e,t,n,r,o,i){var a=1&n,s=pe(e),u=s.length,c=pe(t).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var f=s[l];if(!(a?f in t:S.call(t,f)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var h=!0;i.set(e,t),i.set(t,e);var d=a;for(;++l<u;){f=s[l];var g=e[f],v=t[f];if(r)var b=a?r(v,g,f,t,e,i):r(g,v,f,e,t,i);if(!(void 0===b?g===v||o(g,v,n,r,i):b)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var y=e.constructor,m=t.constructor;y==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,a,s,u,c)}(e,t,a,s,ue,u))}function ce(e){return!(!Oe(e)||(t=e,E&&E in t))&&(je(e)?L:a).test(ye(e));var t}function le(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||k;return e===n}(e))return I(e);var t=[];for(var n in Object(e))S.call(e,n)&&"constructor"!=n&&t.push(n);return t}function fe(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,p=2&n?new ne:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var h=e[l],d=t[l];if(r)var g=a?r(d,h,l,t,e,i):r(h,d,l,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!m(t,(function(e,t){if(a=t,!p.has(a)&&(h===e||o(h,e,n,r,i)))return p.push(t);var a}))){f=!1;break}}else if(h!==d&&!o(h,d,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function pe(e){return function(e,t,n){var r=t(e);return xe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ce,ge)}function he(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function de(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ce(n)?n:void 0}Z.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return S.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:S.call(t,e)},Z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=ie(t,e);return!(n<0)&&(n==t.length-1?t.pop():D.call(t,n,1),--this.size,!0)},ee.prototype.get=function(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return ie(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(z||ee),string:new Z}},te.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return he(this,e).get(e)},te.prototype.has=function(e){return he(this,e).has(e)},te.prototype.set=function(e,t){var n=he(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.add=ne.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ne.prototype.has=function(e){return this.__data__.has(e)},re.prototype.clear=function(){this.__data__=new ee,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var ge=B?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(B(e),(function(t){return q.call(e,t)})))}:function(){return[]},ve=ae;function be(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}function ye(e){if(null!=e){try{return A.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function me(e,t){return e===t||e!==e&&t!==t}(F&&"[object DataView]"!=ve(new F(new ArrayBuffer(1)))||z&&ve(new z)!=r||V&&"[object Promise]"!=ve(V.resolve())||U&&ve(new U)!=i||W&&"[object WeakMap]"!=ve(new W))&&(ve=function(e){var t=ae(e),n=t==o?e.constructor:void 0,a=n?ye(n):"";if(a)switch(a){case $:return"[object DataView]";case G:return r;case Q:return"[object Promise]";case J:return i;case X:return"[object WeakMap]"}return t});var we=se(function(){return arguments}())?se:function(e){return Ae(e)&&S.call(e,"callee")&&!q.call(e,"callee")},xe=Array.isArray;var _e=R||function(){return!1};function je(e){if(!Oe(e))return!1;var t=ae(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Se,Ee=y?(Se=y,function(e){return Se(e)}):function(e){return Ae(e)&&ke(e.length)&&!!u[ae(e)]};function Ce(e){return null!=(t=e)&&ke(t.length)&&!je(t)?oe(e):le(e);var t}e.exports=function(e,t){return ue(e,t)}})),C=g((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.compose=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var r=S(t);for(var o in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},e.diff=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return E(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"!==typeof e)return t;if("object"===typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(n||(n={})),t.default=n})),L=g((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"object"===typeof e.retain&&null!==e.retain?1:"string"===typeof e.insert?e.insert.length:1}}(n||(n={})),t.default=n})),P=g((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t){Object(i.a)(this,e),this.ops=t,this.index=0,this.offset=0}return Object(a.a)(e,[{key:"hasNext",value:function(){return this.peekLength()<1/0}},{key:"next",value:function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=L.default.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"===typeof t.retain?o.retain=e:"object"===typeof t.retain&&null!==t.retain?o.retain=t.retain:"string"===typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}}},{key:"peek",value:function(){return this.ops[this.index]}},{key:"peekLength",value:function(){return this.ops[this.index]?L.default.length(this.ops[this.index])-this.offset:1/0}},{key:"peekType",value:function(){var e=this.ops[this.index];return e?"number"===typeof e.delete?"delete":"number"===typeof e.retain||"object"===typeof e.retain&&null!==e.retain?"retain":"insert":"retain"}},{key:"rest",value:function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]}}]),e}();t.default=n})),M=d(g((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0,t.AttributeMap=C.default,t.Op=L.default,t.OpIterator=P.default;var n=String.fromCharCode(0),s=function(e,t){if("object"!==typeof e||null===e)throw new Error("cannot retain a ".concat(typeof e));if("object"!==typeof t||null===t)throw new Error("cannot retain a ".concat(typeof t));var n=Object.keys(e)[0];if(!n||n!==Object.keys(t)[0])throw new Error("embed types not matched: ".concat(n," != ").concat(Object.keys(t)[0]));return[n,e[n],t[n]]},u=function(){function e(t){Object(i.a)(this,e),Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}return Object(a.a)(e,[{key:"insert",value:function(e,t){var n={};return"string"===typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))}},{key:"delete",value:function(e){return e<=0?this:this.push({delete:e})}},{key:"retain",value:function(e,t){if("number"===typeof e&&e<=0)return this;var n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)}},{key:"push",value:function(e){var t=this.ops.length,n=this.ops[t-1];if(e=S(e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,"object"!==typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(E(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}},{key:"chop",value:function(){var e=this.ops[this.ops.length-1];return e&&"number"===typeof e.retain&&!e.attributes&&this.ops.pop(),this}},{key:"filter",value:function(e){return this.ops.filter(e)}},{key:"forEach",value:function(e){this.ops.forEach(e)}},{key:"map",value:function(e){return this.ops.map(e)}},{key:"partition",value:function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]}},{key:"reduce",value:function(e,t){return this.ops.reduce(e,t)}},{key:"changeLength",value:function(){return this.reduce((function(e,t){return t.insert?e+L.default.length(t):t.delete?e-t.delete:e}),0)}},{key:"length",value:function(){return this.reduce((function(e,t){return e+L.default.length(t)}),0)}},{key:"slice",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=[],o=new P.default(this.ops),i=0;i<n&&o.hasNext();){var a=void 0;i<t?a=o.next(t-i):(a=o.next(n-i),r.push(a)),i+=L.default.length(a)}return new e(r)}},{key:"compose",value:function(t){var n=new P.default(this.ops),i=new P.default(t.ops),a=[],u=i.peek();if(null!=u&&"number"===typeof u.retain&&null==u.attributes){for(var c=u.retain;"insert"===n.peekType()&&n.peekLength()<=c;)c-=n.peekLength(),a.push(n.next());u.retain-c>0&&i.next(u.retain-c)}for(var l=new e(a);n.hasNext()||i.hasNext();)if("insert"===i.peekType())l.push(i.next());else if("delete"===n.peekType())l.push(n.next());else{var f=Math.min(n.peekLength(),i.peekLength()),p=n.next(f),h=i.next(f);if(h.retain){var d={};if("number"===typeof p.retain)d.retain="number"===typeof h.retain?f:h.retain;else if("number"===typeof h.retain)null==p.retain?d.insert=p.insert:d.retain=p.retain;else{var g=null==p.retain?"insert":"retain",v=s(p[g],h.retain),b=Object(o.a)(v,3),y=b[0],m=b[1],w=b[2],x=e.getHandler(y);d[g]=Object(r.a)({},y,x.compose(m,w,"retain"===g))}var _=C.default.compose(p.attributes,h.attributes,"number"===typeof p.retain);if(_&&(d.attributes=_),l.push(d),!i.hasNext()&&E(l.ops[l.ops.length-1],d)){var j=new e(n.rest());return l.concat(j).chop()}}else"number"===typeof h.delete&&("number"===typeof p.retain||"object"===typeof p.retain&&null!==p.retain)&&l.push(h)}return l.chop()}},{key:"concat",value:function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n}},{key:"diff",value:function(t,r){if(this.ops===t.ops)return new e;var o=[this,t].map((function(e){return e.map((function(r){if(null!=r.insert)return"string"===typeof r.insert?r.insert:n;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new e,a=A(o[0],o[1],r),s=new P.default(this.ops),u=new P.default(t.ops);return a.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case A.INSERT:n=Math.min(u.peekLength(),t),i.push(u.next(n));break;case A.DELETE:n=Math.min(t,s.peekLength()),s.next(n),i.delete(n);break;case A.EQUAL:n=Math.min(s.peekLength(),u.peekLength(),t);var r=s.next(n),o=u.next(n);E(r.insert,o.insert)?i.retain(n,C.default.diff(r.attributes,o.attributes)):i.push(o).delete(n)}t-=n}})),i.chop()}},{key:"eachLine",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n",r=new P.default(this.ops),o=new e,i=0;r.hasNext();){if("insert"!==r.peekType())return;var a=r.peek(),s=L.default.length(a)-r.peekLength(),u="string"===typeof a.insert?a.insert.indexOf(n,s)-s:-1;if(u<0)o.push(r.next());else if(u>0)o.push(r.next(u));else{if(!1===t(o,r.next(1).attributes||{},i))return;i+=1,o=new e}}o.length()>0&&t(o,{},i)}},{key:"invert",value:function(t){var n=new e;return this.reduce((function(i,a){if(a.insert)n.delete(L.default.length(a));else{if("number"===typeof a.retain&&null==a.attributes)return n.retain(a.retain),i+a.retain;if(a.delete||"number"===typeof a.retain){var u=a.delete||a.retain;return t.slice(i,i+u).forEach((function(e){a.delete?n.push(e):a.retain&&a.attributes&&n.retain(L.default.length(e),C.default.invert(a.attributes,e.attributes))})),i+u}if("object"===typeof a.retain&&null!==a.retain){var c=t.slice(i,i+1),l=new P.default(c.ops).next(),f=s(a.retain,l.insert),p=Object(o.a)(f,3),h=p[0],d=p[1],g=p[2],v=e.getHandler(h);return n.retain(Object(r.a)({},h,v.invert(d,g)),C.default.invert(a.attributes,l.attributes)),i+1}}return i}),0),n.chop()}},{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n=!!n,"number"===typeof t)return this.transformPosition(t,n);for(var o=t,i=new P.default(this.ops),a=new P.default(o.ops),s=new e;i.hasNext()||a.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===a.peekType())if("insert"===a.peekType())s.push(a.next());else{var u=Math.min(i.peekLength(),a.peekLength()),c=i.next(u),l=a.next(u);if(c.delete)continue;if(l.delete)s.push(l);else{var f=c.retain,p=l.retain,h="object"===typeof p&&null!==p?p:u;if("object"===typeof f&&null!==f&&"object"===typeof p&&null!==p){var d=Object.keys(f)[0];if(d===Object.keys(p)[0]){var g=e.getHandler(d);g&&(h=Object(r.a)({},d,g.transform(f[d],p[d],n)))}}s.retain(h,C.default.transform(c.attributes,l.attributes,n))}}else s.retain(L.default.length(i.next()));return s.chop()}},{key:"transformPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!!t;for(var n=new P.default(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e}}],[{key:"registerEmbed",value:function(e,t){this.handlers[e]=t}},{key:"unregisterEmbed",value:function(e){delete this.handlers[e]}},{key:"getHandler",value:function(e){var t=this.handlers[e];if(!t)throw new Error('no handlers for embed type "'.concat(e,'"'));return t}}]),e}();u.Op=L.default,u.OpIterator=P.default,u.AttributeMap=C.default,u.handlers={},t.default=u,e.exports=u,e.exports.default=u})));var T=function(){function e(e){this.parent=e}return e.prototype.removeSuggestionBoxes=function(){this.parent.preventLoop(),function(e){p("Removing suggestion boxes for editor",e);var t=e.getSelection(),n=e.getContents().ops.map((function(e){return e.attributes&&e.attributes["spck-match"]?u(u({},e),{attributes:u(u({},e.attributes),{"spck-match":null})}):e}));e.setContents(new M(n)),t&&e.setSelection(t)}(this.parent.quill)},e.prototype.addSuggestionBoxes=function(){var e=this;this.parent.matches.forEach((function(t){e.parent.preventLoop();var n=(new M).retain(t.offset).retain(t.length,{"spck-match":t});e.parent.quill.updateContents(n),p("Adding formatter","lt-match",t.offset,t.length)}))},e.prototype.removeCurrentSuggestionBox=function(e,t){var n=e.offset+e.length,r=t.length-e.length;this.parent.matches=this.parent.matches.filter((function(e){return e.replacements&&e.replacements.length>0})).filter((function(t){return t.offset!==e.offset})).map((function(e){return e.offset>n&&(e.offset+=r),e})),this.addSuggestionBoxes()},e}();function q(e){var t;return(t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.create=function(t){var n,r,o=e.create.call(this);return t&&(o.setAttribute("data-offset",null===(n=t.offset)||void 0===n?void 0:n.toString()),o.setAttribute("data-length",null===(r=t.length)||void 0===r?void 0:r.toString())),o},t.prototype.optimize=function(){},t}(e.import("formats/bold"))).blotName="spck-match",t.tagName="quill-spck-match",t}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("/* In-text suggestion element */\nquill-spck-match {\n  border-bottom: #ff6a6a solid 3px;\n}\nquill-spck-match:hover {\n  background-color: #fdcccc;\n  cursor: pointer;\n}\n\n/* Popup */\n.quill-spck-match-popup {\n  isolation: isolate;\n\n  background-color: white;\n  border-radius: 7px;\n  border: 1px solid #dadce0;\n  box-shadow: 0 1px 3px 1px rgb(60 64 67 / 15%);\n  z-index: 1;\n  max-width: 400px;\n\n  font-family: -apple-system, BlinkMacSystemFont, 'Avenir Next', Avenir,\n    'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji',\n    'Segoe UI Emoji', 'Segoe UI Symbol';\n  font-size: 1rem;\n  color: white;\n  overflow: hidden;\n}\n\n.quill-spck-match-popup-actions {\n  display: flex;\n  flex-direction: row;\n  margin-right: 0.0625rem solid #313131;\n}\n\n.quill-spck-match-popup-action {\n  text-align: start;\n  font-weight: 500;\n  cursor: pointer;\n  border: none;\n  border-right: 1px solid #dadce0;\n  padding: 0.5rem;\n  background-color: white;\n  color: #3c4043;\n}\n.quill-spck-match-popup-action:hover {\n  background-color: #f1f3f4;\n}\n\n/* Arrow */\n.quill-spck-popup-arrow,\n.quill-spck-popup-arrow::before {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: inherit;\n}\n\n.quill-spck-popup-arrow {\n  visibility: hidden;\n}\n\n.quill-spck-popup-arrow::before {\n  visibility: visible;\n  content: '';\n  transform: rotate(45deg);\n  background: white;\n  border: 1px solid #dadce0;\n}\nquill-spck-popup[data-popper-placement^='top'] > .quill-spck-popup-arrow {\n  bottom: -4px;\n}\n\nquill-spck-popup[data-popper-placement^='bottom'] > .quill-spck-popup-arrow {\n  top: -4px;\n}\n\nquill-spck-popup[data-popper-placement^='left'] > .quill-spck-popup-arrow {\n  right: -4px;\n}\n\nquill-spck-popup[data-popper-placement^='right'] > .quill-spck-popup-arrow {\n  left: -4px;\n}\n\n/* Loading indicator in editor */\n.quill-spck-loading-indicator {\n  position: absolute;\n  bottom: 3px;\n  right: 3px;\n  z-index: 10;\n}\n.quill-spck-loading-indicator-spinner {\n  display: inline-block;\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-top-color: #39475c;\n  animation: quill-spck-loading-indicator-spin 1s linear infinite;\n}\n@keyframes quill-spck-loading-indicator-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n");var D="top",N="bottom",B="right",R="left",I=[D,N,B,R],F=I.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),z=[].concat(I,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),V=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function U(e){return e?(e.nodeName||"").toLowerCase():null}function W(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function H(e){return e instanceof W(e).Element||e instanceof Element}function $(e){return e instanceof W(e).HTMLElement||e instanceof HTMLElement}function G(e){return"undefined"!==typeof ShadowRoot&&(e instanceof W(e).ShadowRoot||e instanceof ShadowRoot)}var Q={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];$(o)&&U(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});$(r)&&U(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function J(e){return e.split("-")[0]}var X=Math.max,Y=Math.min,K=Math.round;function Z(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function ee(){return!/^((?!chrome|android).)*safari/i.test(Z())}function te(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&$(e)&&(o=e.offsetWidth>0&&K(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&K(r.height)/e.offsetHeight||1);var a=(H(e)?W(e):window).visualViewport,s=!ee()&&n,u=(r.left+(s&&a?a.offsetLeft:0))/o,c=(r.top+(s&&a?a.offsetTop:0))/i,l=r.width/o,f=r.height/i;return{width:l,height:f,top:c,right:u+l,bottom:c+f,left:u,x:u,y:c}}function ne(e){var t=te(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function re(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&G(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function oe(e){return W(e).getComputedStyle(e)}function ie(e){return["table","td","th"].indexOf(U(e))>=0}function ae(e){return((H(e)?e.ownerDocument:e.document)||window.document).documentElement}function se(e){return"html"===U(e)?e:e.assignedSlot||e.parentNode||(G(e)?e.host:null)||ae(e)}function ue(e){return $(e)&&"fixed"!==oe(e).position?e.offsetParent:null}function ce(e){for(var t=W(e),n=ue(e);n&&ie(n)&&"static"===oe(n).position;)n=ue(n);return n&&("html"===U(n)||"body"===U(n)&&"static"===oe(n).position)?t:n||function(e){var t=/firefox/i.test(Z());if(/Trident/i.test(Z())&&$(e)&&"fixed"===oe(e).position)return null;var n=se(e);for(G(n)&&(n=n.host);$(n)&&["html","body"].indexOf(U(n))<0;){var r=oe(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function le(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function fe(e,t,n){return X(e,Y(t,n))}function pe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function he(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function de(e){return e.split("-")[1]}var ge={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ve(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,p=a.x,h=void 0===p?0:p,d=a.y,g=void 0===d?0:d,v="function"===typeof l?l({x:h,y:g}):{x:h,y:g};h=v.x,g=v.y;var b=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),m=R,w=D,x=window;if(c){var _=ce(n),j="clientHeight",k="clientWidth";if(_===W(n)&&"static"!==oe(_=ae(n)).position&&"absolute"===s&&(j="scrollHeight",k="scrollWidth"),_=_,o===D||(o===R||o===B)&&"end"===i)w=N,g-=(f&&_===x&&x.visualViewport?x.visualViewport.height:_[j])-r.height,g*=u?1:-1;if(o===R||(o===D||o===N)&&"end"===i)m=B,h-=(f&&_===x&&x.visualViewport?x.visualViewport.width:_[k])-r.width,h*=u?1:-1}var O,A=Object.assign({position:s},c&&ge),S=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:K(t*r)/r||0,y:K(n*r)/r||0}}({x:h,y:g}):{x:h,y:g};return h=S.x,g=S.y,u?Object.assign({},A,((O={})[w]=y?"0":"",O[m]=b?"0":"",O.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",O)):Object.assign({},A,((t={})[w]=y?g+"px":"",t[m]=b?h+"px":"",t.transform="",t))}var be={passive:!0};var ye={left:"right",right:"left",bottom:"top",top:"bottom"};function me(e){return e.replace(/left|right|bottom|top/g,(function(e){return ye[e]}))}var we={start:"end",end:"start"};function xe(e){return e.replace(/start|end/g,(function(e){return we[e]}))}function _e(e){var t=W(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function je(e){return te(ae(e)).left+_e(e).scrollLeft}function ke(e){var t=oe(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Oe(e,t){var n;void 0===t&&(t=[]);var r=function e(t){return["html","body","#document"].indexOf(U(t))>=0?t.ownerDocument.body:$(t)&&ke(t)?t:e(se(t))}(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=W(r),a=o?[i].concat(i.visualViewport||[],ke(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Oe(se(a)))}function Ae(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Se(e,t,n){return"viewport"===t?Ae(function(e,t){var n=W(e),r=ae(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,u=0;if(o){i=o.width,a=o.height;var c=ee();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:s+je(e),y:u}}(e,n)):H(t)?function(e,t){var n=te(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ae(function(e){var t,n=ae(e),r=_e(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=X(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=X(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+je(e),u=-r.scrollTop;return"rtl"===oe(o||n).direction&&(s+=X(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:u}}(ae(e)))}function Ee(e,t,n,r){var o="clippingParents"===t?function(e){var t=Oe(se(e)),n=["absolute","fixed"].indexOf(oe(e).position)>=0&&$(e)?ce(e):e;return H(n)?t.filter((function(e){return H(e)&&re(e,n)&&"body"!==U(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=Se(e,n,r);return t.top=X(o.top,t.top),t.right=Y(o.right,t.right),t.bottom=Y(o.bottom,t.bottom),t.left=X(o.left,t.left),t}),Se(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ce(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?J(o):null,a=o?de(o):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case D:t={x:s,y:n.y-r.height};break;case N:t={x:s,y:n.y+n.height};break;case B:t={x:n.x+n.width,y:u};break;case R:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=i?le(i):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case"start":t[c]=t[c]-(n[l]/2-r[l]/2);break;case"end":t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Le(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,u=void 0===s?"clippingParents":s,c=n.rootBoundary,l=void 0===c?"viewport":c,f=n.elementContext,p=void 0===f?"popper":f,h=n.altBoundary,d=void 0!==h&&h,g=n.padding,v=void 0===g?0:g,b=pe("number"!==typeof v?v:he(v,I)),y="popper"===p?"reference":"popper",m=e.rects.popper,w=e.elements[d?y:p],x=Ee(H(w)?w:w.contextElement||ae(e.elements.popper),u,l,a),_=te(e.elements.reference),j=Ce({reference:_,element:m,strategy:"absolute",placement:o}),k=Ae(Object.assign({},m,j)),O="popper"===p?k:_,A={top:x.top-O.top+b.top,bottom:O.bottom-x.bottom+b.bottom,left:x.left-O.left+b.left,right:O.right-x.right+b.right},S=e.modifiersData.offset;if("popper"===p&&S){var E=S[o];Object.keys(A).forEach((function(e){var t=[B,N].indexOf(e)>=0?1:-1,n=[D,N].indexOf(e)>=0?"y":"x";A[e]+=E[n]*t}))}return A}function Pe(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?z:u,l=de(r),f=l?s?F:F.filter((function(e){return de(e)===l})):I,p=f.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=f);var h=p.reduce((function(t,n){return t[n]=Le(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[J(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}function Me(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Te(e){return[D,B,N,R].some((function(t){return e[t]>=0}))}function qe(e,t,n){void 0===n&&(n=!1);var r=$(t),o=$(t)&&function(e){var t=e.getBoundingClientRect(),n=K(t.width)/e.offsetWidth||1,r=K(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=ae(t),a=te(e,o,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==U(t)||ke(i))&&(s=function(e){return e!==W(e)&&$(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:_e(e);var t}(t)),$(t)?((u=te(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=je(i))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function De(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var o=t.get(r);o&&e(o)}})),r.push(o)}(e)})),r}function Ne(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Be={placement:"bottom",modifiers:[],strategy:"absolute"};function Re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Ie(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Be:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Be,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:H(e)?Oe(e):e.contextElement?Oe(e.contextElement):[],popper:Oe(t)};var l=function(e){var t=De(e);return V.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=l.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:u,options:r});a.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(Re(t,n)){o.rects={reference:qe(t,ce(n),"fixed"===o.options.strategy),popper:ne(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,l=void 0===c?{}:c,f=i.name;"function"===typeof a&&(o=a({state:o,options:l,name:f,instance:u})||o)}else o.reset=!1,r=-1}}},update:Ne((function(){return new Promise((function(e){u.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!Re(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Fe=Ie({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,u=W(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,be)})),s&&u.addEventListener("resize",n.update,be),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,be)})),s&&u.removeEventListener("resize",n.update,be)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ce({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,u=void 0===s||s,c={placement:J(t.placement),variation:de(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ve(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ve(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Q,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=z.reduce((function(e,n){return e[n]=function(e,t,n){var r=J(e),o=[R,D].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[R,B].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,d=void 0===h||h,g=n.allowedAutoPlacements,v=t.options.placement,b=J(v),y=u||(b===v||!d?[me(v)]:function(e){if("auto"===J(e))return[];var t=me(e);return[xe(e),t,xe(t)]}(v)),m=[v].concat(y).reduce((function(e,n){return e.concat("auto"===J(n)?Pe(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:d,allowedAutoPlacements:g}):n)}),[]),w=t.rects.reference,x=t.rects.popper,_=new Map,j=!0,k=m[0],O=0;O<m.length;O++){var A=m[O],S=J(A),E="start"===de(A),C=[D,N].indexOf(S)>=0,L=C?"width":"height",P=Le(t,{placement:A,boundary:l,rootBoundary:f,altBoundary:p,padding:c}),M=C?E?B:R:E?N:D;w[L]>x[L]&&(M=me(M));var T=me(M),q=[];if(i&&q.push(P[S]<=0),s&&q.push(P[M]<=0,P[T]<=0),q.every((function(e){return e}))){k=A,j=!1;break}_.set(A,q)}if(j)for(var I=function(e){var t=m.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},F=d?3:1;F>0;F--){if("break"===I(F))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,p=n.tether,h=void 0===p||p,d=n.tetherOffset,g=void 0===d?0:d,v=Le(t,{boundary:u,rootBoundary:c,padding:f,altBoundary:l}),b=J(t.placement),y=de(t.placement),m=!y,w=le(b),x="x"===w?"y":"x",_=t.modifiersData.popperOffsets,j=t.rects.reference,k=t.rects.popper,O="function"===typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,A="number"===typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(_){if(i){var C,L="y"===w?D:R,P="y"===w?N:B,M="y"===w?"height":"width",T=_[w],q=T+v[L],I=T-v[P],F=h?-k[M]/2:0,z="start"===y?j[M]:k[M],V="start"===y?-k[M]:-j[M],U=t.elements.arrow,W=h&&U?ne(U):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$=H[L],G=H[P],Q=fe(0,j[M],W[M]),K=m?j[M]/2-F-Q-$-A.mainAxis:z-Q-$-A.mainAxis,Z=m?-j[M]/2+F+Q+G+A.mainAxis:V+Q+G+A.mainAxis,ee=t.elements.arrow&&ce(t.elements.arrow),te=ee?"y"===w?ee.clientTop||0:ee.clientLeft||0:0,re=null!=(C=null==S?void 0:S[w])?C:0,oe=T+Z-re,ie=fe(h?Y(q,T+K-re-te):q,T,h?X(I,oe):I);_[w]=ie,E[w]=ie-T}if(s){var ae,se="x"===w?D:R,ue="x"===w?N:B,pe=_[x],he="y"===x?"height":"width",ge=pe+v[se],ve=pe-v[ue],be=-1!==[D,R].indexOf(b),ye=null!=(ae=null==S?void 0:S[x])?ae:0,me=be?ge:pe-j[he]-k[he]-ye+A.altAxis,we=be?pe+j[he]+k[he]-ye-A.altAxis:ve,xe=h&&be?function(e,t,n){var r=fe(e,t,n);return r>n?n:r}(me,pe,we):fe(h?me:ge,pe,h?we:ve);_[x]=xe,E[x]=xe-pe}t.modifiersData[r]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=J(n.placement),u=le(s),c=[R,B].indexOf(s)>=0?"height":"width";if(i&&a){var l=function(e,t){return pe("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:he(e,I))}(o.padding,n),f=ne(i),p="y"===u?D:R,h="y"===u?N:B,d=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],g=a[u]-n.rects.reference[u],v=ce(i),b=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,y=d/2-g/2,m=l[p],w=b-f[c]-l[h],x=b/2-f[c]/2+y,_=fe(m,x,w),j=u;n.modifiersData[r]=((t={})[j]=_,t.centerOffset=_-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&re(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Le(t,{elementContext:"reference"}),s=Le(t,{altBoundary:!0}),u=Me(a,r),c=Me(s,o,i),l=Te(u),f=Te(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),ze=function(e){return function(t,n,r){for(var o in n)o in Ve&&(n[Ve[o]]=n[o],delete n[o]);return e(t,n,r)}},Ve={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};function Ue(e){return 9===e||10===e}var We=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9\x7f-\uffff_:-]+)*$");function He(e){return We.test(e)}var $e,Ge,Qe,Je=/\n[\s]+$/,Xe=/^\n[\s]+/,Ye=/[\s]+$/,Ke=/^[\s]+/,Ze=/[\n\s]+/g,et=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],tt=["code","pre","textarea"],nt=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rt=["async","autofocus","autoplay","checked","controls","default","defaultchecked","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","selected"],ot=["indeterminate"],it=function(e){function t(t,n,r){var o;-1!==nt.indexOf(t)&&(n.namespace="http://www.w3.org/2000/svg");var i=!1;n.namespace&&(i=n.namespace,delete n.namespace);var a=!1;if(n.is&&(a=n.is,delete n.is),i)o=a?e.createElementNS(i,t,{is:a}):e.createElementNS(i,t);else{if("!--"===t)return e.createComment(n.comment);o=a?e.createElement(t,{is:a}):e.createElement(t)}for(var s in n)if(n.hasOwnProperty(s)){var u=s.toLowerCase(),c=n[s];if("classname"===u&&(u="class",s="class"),"htmlFor"===s&&(s="for"),-1!==rt.indexOf(u))if("true"===String(c))c=u;else if("false"===String(c))continue;"on"===u.slice(0,2)||-1!==ot.indexOf(u)?o[s]=c:i?"xlink:href"===s?o.setAttributeNS("http://www.w3.org/1999/xlink",s,c):/^xmlns($|:)/i.test(s)||o.setAttributeNS(null,s,c):o.setAttribute(s,c)}return function e(t,n){if(Array.isArray(n))for(var r,o,i=t.nodeName.toLowerCase(),a=!1,s=0,u=n.length;s<u;s++){var c=n[s];if(Array.isArray(c))e(t,c);else{("number"===typeof c||"boolean"===typeof c||"function"===typeof c||c instanceof Date||c instanceof RegExp)&&(c=c.toString());var l=t.childNodes[t.childNodes.length-1];if("string"===typeof c)a=!0,l&&"#text"===l.nodeName?l.nodeValue+=c:(c=t.ownerDocument.createTextNode(c),t.appendChild(c),l=c),s===u-1&&(a=!1,-1===et.indexOf(i)&&-1===tt.indexOf(i)?""===(r=l.nodeValue.replace(Xe,"").replace(Ye,"").replace(Je,"").replace(Ze," "))?t.removeChild(l):l.nodeValue=r:-1===tt.indexOf(i)&&(o=0===s?"":" ",r=l.nodeValue.replace(Xe,o).replace(Ke," ").replace(Ye,"").replace(Je,"").replace(Ze," "),l.nodeValue=r));else if(c&&c.nodeType){a&&(a=!1,-1===et.indexOf(i)&&-1===tt.indexOf(i)?""===(r=l.nodeValue.replace(Xe,"").replace(Je," ").replace(Ze," "))?t.removeChild(l):l.nodeValue=r:-1===tt.indexOf(i)&&(r=l.nodeValue.replace(Ke," ").replace(Xe,"").replace(Je," ").replace(Ze," "),l.nodeValue=r));var f=c.nodeName;f&&(i=f.toLowerCase()),t.appendChild(c)}}}}(o,r),o}var n=function(e,t){t||(t={});var n=t.concat||function(e,t){return String(e)+String(t)};return!1!==t.attrToProp&&(e=ze(e)),function(o){for(var i=1,a="",s=arguments.length,u=[],c=0;c<o.length;c++)if(c<s-1){var l=arguments[c+1],f=_(o[c]),p=i;10===p&&(p=8),9===p&&(p=8),7===p&&(p=8),4===p&&(p=5),2===p?"/"===a?(f.push([2,"/",l]),a=""):f.push([2,l]):13===p&&t.comments?a+=String(l):13!==p&&f.push([0,p,l]),u.push.apply(u,f)}else u.push.apply(u,_(o[c]));var h=[null,{},[]],d=[[h,-1]];for(c=0;c<u.length;c++){var g=d[d.length-1][0],v=(f=u[c])[0];if(2===v&&/^\//.test(f[1])){var b=d[d.length-1][1];d.length>1&&(d.pop(),d[d.length-1][0][2][b]=e(g[0],g[1],g[2].length?g[2]:void 0))}else if(2===v){var y=[f[1],{},[]];g[2].push(y),d.push([y,g[2].length-1])}else if(5===v||0===v&&5===f[1]){for(var m,w="";c<u.length;c++)if(5===u[c][0])w=n(w,u[c][1]);else{if(0!==u[c][0]||5!==u[c][1])break;if("object"!==typeof u[c][2]||w)w=n(w,u[c][2]);else for(m in u[c][2])u[c][2].hasOwnProperty(m)&&!g[1][m]&&(g[1][m]=u[c][2][m])}11===u[c][0]&&c++;for(var x=c;c<u.length;c++)if(8===u[c][0]||5===u[c][0])g[1][w]?""===u[c][1]||(g[1][w]=n(g[1][w],u[c][1])):g[1][w]=r(u[c][1]);else{if(0!==u[c][0]||8!==u[c][1]&&5!==u[c][1]){!w.length||g[1][w]||c!==x||3!==u[c][0]&&12!==u[c][0]||(g[1][w]=w.toLowerCase()),3===u[c][0]&&c--;break}g[1][w]?""===u[c][2]||(g[1][w]=n(g[1][w],u[c][2])):g[1][w]=r(u[c][2])}}else if(5===v)g[1][f[1]]=!0;else if(0===v&&5===f[1])g[1][f[2]]=!0;else if(3===v){if(He(g[0])&&d.length){b=d[d.length-1][1];d.pop(),d[d.length-1][0][2][b]=e(g[0],g[1],g[2].length?g[2]:void 0)}}else if(0===v&&1===f[1])void 0===f[2]||null===f[2]?f[2]="":f[2]||(f[2]=n("",f[2])),Array.isArray(f[2][0])?g[2].push.apply(g[2],f[2]):g[2].push(f[2]);else if(1===v)g[2].push(f[1]);else if(11!==v&&12!==v)throw new Error("unhandled: "+v)}if(h[2].length>1&&/^\s*$/.test(h[2][0])&&h[2].shift(),h[2].length>2||2===h[2].length&&/\S/.test(h[2][1])){if(t.createFragment)return t.createFragment(h[2]);throw new Error("multiple root elements must be wrapped in an enclosing tag")}return Array.isArray(h[2][0])&&"string"===typeof h[2][0][0]&&Array.isArray(h[2][0][2])&&(h[2][0]=e(h[2][0][0],h[2][0][1],h[2][0][2])),h[2][0];function _(e){var n=[];7===i&&(i=4);for(var r=0;r<e.length;r++){var o=e.charAt(r);1===i&&"<"===o?(a.length&&n.push([1,a]),a="",i=2):">"!==o||Ue(i)||13===i?13===i&&/-$/.test(a)&&"-"===o?(t.comments&&n.push([8,a.substr(0,a.length-1)]),a="",i=1):2===i&&/^!--$/.test(a)?(t.comments&&n.push([2,a],[5,"comment"],[11]),a=o,i=13):1===i||13===i?a+=o:2===i&&"/"===o&&a.length||(2===i&&/\s/.test(o)?(a.length&&n.push([2,a]),a="",i=4):2===i?a+=o:4===i&&/[^\s"'=/]/.test(o)?(i=5,a=o):4===i&&/\s/.test(o)?(a.length&&n.push([5,a]),n.push([12])):5===i&&/\s/.test(o)?(n.push([5,a]),a="",i=6):5===i&&"="===o?(n.push([5,a],[11]),a="",i=7):5===i?a+=o:6!==i&&4!==i||"="!==o?6!==i&&4!==i||/\s/.test(o)?7===i&&'"'===o?i=10:7===i&&"'"===o?i=9:10===i&&'"'===o||9===i&&"'"===o?(n.push([8,a],[12]),a="",i=4):7!==i||/\s/.test(o)?8===i&&/\s/.test(o)?(n.push([8,a],[12]),a="",i=4):8!==i&&9!==i&&10!==i||(a+=o):(i=8,r--):(n.push([12]),/[\w-]/.test(o)?(a+=o,i=5):i=4):(n.push([11]),i=7)):(2===i&&a.length?n.push([2,a]):5===i?n.push([5,a]):8===i&&a.length&&n.push([8,a]),n.push([3]),a="",i=1)}return 1===i&&a.length?(n.push([1,a]),a=""):8===i&&a.length||10===i&&a.length||9===i&&a.length?(n.push([8,a]),a=""):5===i&&(n.push([5,a]),a=""),n}};function r(e){return"function"===typeof e||"string"===typeof e||e&&"object"===typeof e||null===e||void 0===e?e:n("",e)}}(t,{comments:!0,createFragment:function t(n){for(var r=e.createDocumentFragment(),o=0;o<n.length;o++)null!=n[o]&&(Array.isArray(n[o])?r.appendChild(t(n[o])):("string"===typeof n[o]&&(n[o]=e.createTextNode(n[o])),r.appendChild(n[o])));return r}});return n.default=n,n.createComment=t,n}(document),at=function(){function e(e){this.parent=e,this.closePopup=this.closePopup.bind(this),this.addEventHandler()}return e.prototype.addEventHandler=function(){var e=this;this.findRoot(this.parent.quill.root).addEventListener("click",(function(t){var n,r=t.target;"QUILL-SPCK-MATCH"===r.tagName?e.handleSuggestionClick(r):e.openPopup&&!(null===(n=e.openPopup)||void 0===n?void 0:n.contains(r))&&e.closePopup()})),window.addEventListener("resize",(function(){e.currentSuggestionElement&&e.handleSuggestionClick(e.currentSuggestionElement)}))},e.prototype.closePopup=function(){this.openPopup&&(this.openPopup.remove(),this.openPopup=void 0),this.currentSuggestionElement=void 0},e.prototype.handleSuggestionClick=function(e){var t=parseInt(e.getAttribute("data-offset")||"0"),n=parseInt(e.getAttribute("data-length")||"0"),r=this.parent.matches.find((function(e){return e.offset===t&&e.length===n}));if(!r)throw new Error("Could not find rule");this.createSuggestionPopup(r,e)},e.prototype.createSuggestionPopup=function(e,t){var n,r=this;this.openPopup&&this.closePopup(),this.currentSuggestionElement=t;var o=it(Ge||(Ge=f(['\n      <quill-spck-popup role="tooltip">\n        <div class="quill-spck-match-popup">\n          <div class="quill-spck-match-popup-actions">\n            ',"\n          </div>\n        </div>\n      </quill-spck-popup>\n    "],['\n      <quill-spck-popup role="tooltip">\n        <div class="quill-spck-match-popup">\n          <div class="quill-spck-match-popup-actions">\n            ',"\n          </div>\n        </div>\n      </quill-spck-popup>\n    "])),null===(n=e.replacements)||void 0===n?void 0:n.slice(0,3).map((function(t){return it($e||($e=f(['\n                <button\n                  class="quill-spck-match-popup-action"\n                  data-replacement="','"\n                  onclick=',"\n                >\n                  ","\n                </button>\n              "],['\n                <button\n                  class="quill-spck-match-popup-action"\n                  data-replacement="','"\n                  onclick=',"\n                >\n                  ","\n                </button>\n              "])),t.value,(function(){return function(t){r.parent.preventLoop(),r.parent.quill.setSelection(e.offset,e.length),r.parent.quill.deleteText(e.offset,e.length),r.parent.quill.insertText(e.offset,t),r.parent.quill.setSelection(e.offset+t.length),r.parent.boxes.removeCurrentSuggestionBox(e,t),r.closePopup()}(t.value)}),t.value)})));document.body.appendChild(o),Fe(t,o,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,0]}}]}),this.openPopup=o},e.prototype.findRoot=function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t},e}(),st=function(){function e(e){this.parent=e}return e.prototype.startLoading=function(){var e,t;if(null===(e=this.currentLoader)||void 0===e||e.remove(),this.parent.params.showLoadingIndicator){var n=it(Qe||(Qe=f(['\n        <div class="quill-spck-loading-indicator">\n          <div class="quill-spck-loading-indicator-spinner"></div>\n        </div>\n      '],['\n        <div class="quill-spck-loading-indicator">\n          <div class="quill-spck-loading-indicator-spinner"></div>\n        </div>\n      '])));this.currentLoader=n,null===(t=this.parent.quill.root.parentElement)||void 0===t||t.appendChild(n)}},e.prototype.stopLoading=function(){var e;null===(e=this.currentLoader)||void 0===e||e.remove()},e}(),ut=function(){function e(e,t){var n=this;this.quill=e,this.params=t,this.popups=new at(this),this.loader=new st(this),this.boxes=new T(this),this.matches=[],p("Attaching QuillSpellChecker to Quill instance",e),this.quill.on("text-change",(function(e,t,r){"user"===r&&n.onTextChange()})),this.checkSpelling(),this.disableNativeSpellcheckIfSet()}return e.prototype.disableNativeSpellcheckIfSet=function(){this.params.disableNativeSpellcheck&&this.quill.root.setAttribute("spellcheck","false")},e.prototype.onTextChange=function(){var e=this;this.loopPreventionCooldown||(this.typingCooldown&&clearTimeout(this.typingCooldown),this.typingCooldown=setTimeout((function(){p("User stopped typing, checking spelling"),e.checkSpelling()}),this.params.cooldownTime))},e.prototype.checkSpelling=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return document.querySelector("spck-toolbar")?(p("SpellChecker is installed as extension, not checking"),[2]):(p("Checking spelling"),this.loader.startLoading(),[4,this.getSpellCheckerResults()]);case 1:return(e=t.sent())&&e.matches&&e.matches.length>0?(this.matches=e.matches.filter((function(e){return e.replacements&&e.replacements.length>0})),p("Adding suggestion boxes"),this.boxes.addSuggestionBoxes()):(p("No matches found"),this.matches=[]),this.loader.stopLoading(),[2]}}))}))},e.prototype.getSpellCheckerResults=function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(this.params.api.url,u(u({},this.params.api),{body:this.params.api.body(this.quill.getText())}))];case 1:return e=n.sent(),[2,this.params.api.mapResponse(e)];case 2:return t=n.sent(),console.error(t),[2,null];case 3:return[2]}}))}))},e.prototype.preventLoop=function(){var e=this;this.loopPreventionCooldown&&clearTimeout(this.loopPreventionCooldown),this.loopPreventionCooldown=setTimeout((function(){e.loopPreventionCooldown=void 0}),100)},e.DEFAULTS={api:{url:"https://languagetool.org/api/v2/check",body:function(e){var t={text:e,language:"auto"};return Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")},headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",mode:"cors",mapResponse:function(e){return c(void 0,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,e.json()];case 1:return[2,t.sent()]}}))}))}},disableNativeSpellcheck:!0,cooldownTime:3e3,showLoadingIndicator:!1},e}();function ct(e){p("Registering QuillSpellChecker module for Quill instance"),e.register({"modules/spellChecker":ut,"formats/spck-match":q(e)})}}).call(this,n(13))},31:function(e,t,n){e.exports=n(113)},38:function(e,t,n){}},[[31,1,2]]]);
//# sourceMappingURL=main.a34a737d.chunk.js.map